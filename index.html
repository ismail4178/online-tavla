================ server.js ================ const express = require('express'); const app = express(); const http = require('http').createServer(app); const io = require('socket.io')(http);

app.use(express.static('public'));

let rooms = {};

io.on('connection', socket => { socket.on('createRoom', ({ nick }) => { const code = Math.random().toString(36).substring(2,6).toUpperCase(); rooms[code] = { players: [{ id: socket.id, nick }] }; socket.join(code); socket.emit('roomCreated', code); });

socket.on('joinRoom', ({ code, nick }) => { if (!rooms[code] || rooms[code].players.length >= 2) { socket.emit('errorMsg', 'Oda bulunamadı'); return; } rooms[code].players.push({ id: socket.id, nick }); socket.join(code); io.to(code).emit('startGame', rooms[code].players); });

socket.on('disconnect', () => { for (const code in rooms) { rooms[code].players = rooms[code].players.filter(p => p.id !== socket.id); if (rooms[code].players.length === 0) delete rooms[code]; } }); });

http.listen(3000, () => console.log('Server running'));

================ public/index.html ================

<!DOCTYPE html><html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Online Tavla</title>
<script src="/socket.io/socket.io.js"></script>
<style>
body{margin:0;background:#0f172a;color:#fff;font-family:Arial}
#menu,#game{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}
button,input{padding:12px;font-size:18px;border-radius:8px;border:none;margin:6px}
#board{display:grid;grid-template-columns:repeat(12,1fr);grid-template-rows:1fr 1fr;width:100%;height:80vh;background:#1e3a5f;margin-top:10px}
.point{display:flex;flex-direction:column;align-items:center}
.stone{width:26px;height:26px;border-radius:50%;margin:2px}
.white{background:#f8fafc}.black{background:#020617}
</style>
</head>
<body><div id="menu">
  <h1>Online Tavla</h1>
  <input id="nick" placeholder="Nickname">
  <input id="roomInput" placeholder="Oda Kodu (katılmak için)">
  <button onclick="createRoom()">Oda Kur</button>
  <button onclick="joinRoom()">Odaya Katıl</button>
</div><div id="game" style="display:none">
  <h3 id="players"></h3>
  <div id="board"></div>
</div><script>
const socket = io();

function createRoom(){
  if(!nick.value) return alert('Nick gir');
  socket.emit('createRoom',{nick:nick.value});
}

function joinRoom(){
  if(!nick.value||!roomInput.value) return alert('Bilgi eksik');
  socket.emit('joinRoom',{nick:nick.value,code:roomInput.value.toUpperCase()});
}

socket.on('roomCreated', code => {
  alert('Oda Kodu: '+code);
});

socket.on('startGame', players => {
  menu.style.display='none';
  game.style.display='flex';
  playersDiv = players.map(p=>p.nick).join(' vs ');
  players.innerText = playersDiv;
  drawBoard();
});

socket.on('errorMsg', msg => alert(msg));

function drawBoard(){
  board.innerHTML='';
  for(let i=0;i<24;i++){
    let p=document.createElement('div');
    p.className='point';
    if(i===0||i===23){
      for(let j=0;j<5;j++){
        let s=document.createElement('div');
        s.className='stone '+(i===0?'white':'black');
        p.appendChild(s);
      }
    }
    board.appendChild(p);
  }
}
</script></body>
</html>
